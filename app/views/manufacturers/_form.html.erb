<%= form_for(setup_addressable(@manufacturer)) do |f| %>
  <% if @manufacturer.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@manufacturer.errors.count, "error") %> prohibited this manufacturer from being saved:</h2>

      <ul>
      <% @manufacturer.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

<!-- Experimental for Trade Event selection -->

  <%= f.fields_for :attending_manufacturer do |ff| %>

    <div class="field">
      <%= ff.label :trade_event_id %><br>
      <%= ff.collection_select :trade_event_id, TradeEvent.where(buyer_id: current_user.id), :id, :event_name, prompt: true %>
    </div>

    <%#= ff.hidden_field :manufacturer_id, params[:id] %>

  <% end %>

<!-- End of experimental code -->

  <div class="field">
    <%= f.label :company_name %><br>
    <%= f.text_field :company_name %>
  </div>
  <div class="field">
    <%= f.label :shipping_port %><br>
    <%= f.text_field :shipping_port %>
  </div>
  <div class="field">
    <%= f.label :contact_name %><br>
    <%= f.text_field :contact_name %>
  </div>
  <div class="field">
    <%= f.label :email %><br>
    <%= f.text_field :email %>
  </div>
  <div class="field">
    <%= f.label :phone_number %><br>
    <%= f.text_field :phone_number %>
  </div>
  
  <!-- beginning of address fields -->
  <%= f.fields_for :address do |ff| %>
    <div class="field">
      <%= ff.label :country %><br>
      <%= ff.text_field :country %>
    </div>
    <div class="field">
      <%= ff.label :street_address_1 %><br>
      <%= ff.text_field :street_address_1 %>
    </div>
    <div class="field">
      <%= ff.label :street_address_2 %><br>
      <%= ff.text_field :street_address_2 %>
    </div>
    <div class="field">
      <%= ff.label :street_address_3 %><br>
      <%= ff.text_field :street_address_3 %>
    </div>
    <div class="field">
      <%= ff.label :city %><br>
      <%= ff.text_field :city %>
    </div>
    <div class="field">
      <%= ff.label :state %><br>
      <%= ff.text_field :state %>
    </div>
    <div class="field">
      <%= ff.label :district %><br>
      <%= ff.text_field :district %>
    </div>
    <div class="field">
      <%= ff.label :postal_code %><br>
      <%= ff.text_field :postal_code %>
    </div>
  <% end %> <!-- end of address fields -->

  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>

